## 基础规则
所有布局元素都拥有以下属性:
1. Margin 外边距
2. Padding 内边距
5. 是否跳出布局流
6. 尺寸

## 支持的组件
1. StackPanel
2. View
3. Grid
4. FlexPanel
5. Canvas

## 实现思路
1. 脏检查

布局分为两个阶段:  
1. 测量阶段  
2. 布局阶段  

### 元素的尺寸问题
尺寸定义:  
data UISize = Auto | Pixel Float | PixelFromRect  

尺寸按照优先级又可以分为
1. 强制尺寸
强制尺寸无法手动指定，强制尺寸只能由布局控件的规则进行指定  

2. 期望尺寸
期望尺寸即是Pixel和PixelFromRect
3. 自动尺寸
自动尺寸即是Auto  

高优先级的尺寸可以覆盖,撑开,或者调整低优先级的.
如果元素没有挂载LayoutElement，那么当他是View的默认值

### 测量阶段实现思路  
1. 获取到有变化的元素，逐层向上判断是否需要重新布局，将需要布局的归入重布局列表  
2. 从上到下重新测量元素,根据元素的类型中间会有先获取一遍期望尺寸再次重新测量的过程。

### 获取期望尺寸问题
1. 如果父元素有一个轴为自动模式，有某个子元素为撑开模式。那么需要先通过计算最大的子元素尺寸，然后再次从上到下重新测量。  
2. 获取期望尺寸区别于完整的从上到下重新测量，会尽量早的返回。


### FlexPanel布局
测量阶段主要分为两部分     
1. 撑开自己的尺寸  
     a. 当自己的尺寸是固定尺寸时忽略撑开  
     b. 当是Wrap时主轴方向必须有尺寸  
2. 计算子元素可用尺寸并调用  
     a. 处理Grow和shrink: 在原版Flex规则中，
        尺寸是分为 min-size size max-size的自动放大和缩小不能超过min和max的范围,
        这里先不引入这个概念，默认只有size允许任意挤压和放大
